<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width,initial-scale=1,viewport-fit=cover" name="viewport" />
  <title>U12 Football Team Manager</title>
  <meta content="Responsive 9v9 match-day manager with formations, timers, events and a Vue-powered player editor."
    name="description" />
  <link href="manifest.json" rel="manifest" />
  <meta content="#0f172a" name="theme-color" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="style.css" rel="stylesheet" />
</head>

<body class="bg-slate-900 text-slate-100">
  <header class="w-full border-b border-slate-800 bg-slate-950">
    <!-- Backup / Restore -->
    <div class="backup-controls" style="display:flex;gap:.5rem;flex-wrap:wrap;margin:.5rem 0;">
      <button class="btn" id="exportBtn">Export Data</button>
      <label class="btn" style="cursor:pointer;">
        Import Data
        <input accept="application/json" hidden="" id="importInput" type="file" />
      </label>
    </div>
    <div class="shell px-3 sm:px-4 py-2.5 flex items-center gap-3">
      <img alt="Club Logo" class="w-7 h-7" src="logo.png" />
      <div class="font-semibold tracking-wide">U12 Football Team Manager</div>
      <div class="ml-auto flex flex-wrap items-center gap-2">
        <span class="font-mono text-base px-2 py-1 bg-slate-800 rounded" id="matchTimer">00:00</span>
        <button class="btn-green" id="startTimer">Start</button>
        <button class="btn-amber" id="pauseTimer">Pause</button>
        <button class="btn-rose" id="resetTimer">Reset</button>
        <input class="input w-14" id="halfLengthInput" max="50" min="5" type="number" value="35">
        <button class="btn" id="startFirstHalf">Start 1st</button>
        <button class="btn" id="startSecondHalf">Start 2nd</button>
        <span class="text-[11px] px-2 py-1 bg-slate-800 rounded">
          Half: <b id="currentHalfLabel">—</b> • Remaining: <b id="remainingTime">00:00</b>
        </span>
        <button class="btn-blue" id="openPlayerEditor">Edit Players</button>
        </input>
      </div>
    </div>
  </header>
  <main class="shell px-3 sm:px-4 py-3 grid-dashboard gap-3">
    <section class="panel" id="playerManager" style="grid-area:top">
      <div class="pm-strip">
        <button id="putStartersOnPitch" class="btn-green">Put Starters</button>
        <span class="pm-title">Team Line Up (All Players)</span>
        <ul id="teamLineUpList" class="lineup pm-row text-sm"></ul>
      </div>
      <div class="pm-actions">
        <div class="flex gap-2 pt-2 sticky-actions">
        <button class="btn" id="saveFormation">Save</button>
        <button class="btn" id="loadFormation">Load</button>
        <button class="btn-indigo" id="saveFormationToMatch">Attach To Match</button>
      </div>
      </div>
    </section>
    <section class="panel" style="grid-area:left">
      <div class="panel-title flex items-center justify-between">
        <span>Pitch &amp; Formation</span>
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-xs opacity-70">Template</span>
          <select class="input" id="autoFormationSelect">
            <option value="3-3-2">3–3–2 (default)</option>
            <option value="3-2-3">3–2–3</option>
            <option value="2-3-3">2–3–3</option>
            <option value="4-3-1">4–3–1</option>
          </select>
        </div>
      </div>
      <div
        class="relative rounded-lg overflow-hidden border border-slate-800 w-full aspect-[16/10] max-h-[72vh] min-h-[380px] lg:min-h-[440px]"
        id="formationField">
      </div>
    </section>
    <section class="panel" style="grid-area:right">
      <div class="panel-title">Match Controls</div>
      <div class="space-y-2.5">
        <div class="flex gap-2">
          <select class="input flex-1" id="matchSelect">
            <option disabled="" selected="" value="">— Select a match —</option>
          </select>
          <button class="btn-green" id="newMatch">New</button>
          <button class="btn-rose" id="deleteMatch">Delete</button>
        </div>
        <div class="panel-subtitle">Match Events</div>
        <form class="flex flex-col gap-2" id="eventForm">
          <select class="input" id="eventType">
            <option value="Goal">Goal</option>
            <option value="Assist">Assist</option>
            <option value="Yellow/Red Card">Yellow/Red Card</option>
          </select>
          <select class="input" id="eventPlayer" required="">
            <option disabled="" selected="" value="">— Select Player —</option>
          </select>
          <select class="input hidden" id="assistPlayer">
            <option selected="" value="">— Select Assist Player (optional) —</option>
          </select>
          <button class="btn-amber">Log Event</button>
        </form>
        <ul class="list space-y-1 max-h-[28vh] overflow-auto" id="eventLog"></ul>
        <div class="flex gap-2">
          <button class="btn" id="exportCSV">Export CSV</button>
          <button class="btn" onclick="window.print()">Print</button>
        </div>
      </div>
    </section>
    <section class="panel" style="grid-area:center">
      <div class="panel-title">Game Changers</div>
      <ul class="grid grid-cols-3 lg:grid-cols-4 gap-2" id="benchList"></ul>
    </section>
    <section class="panel" style="grid-area:bottom">
      <div class="panel-title" id="startersCounter">Starters (0/9)</div>
      <ul class="grid grid-cols-3 lg:grid-cols-4 gap-2" id="starterList"></ul>
    </section>
  </main>
  <div class="pe-modal hidden" id="playerEditorModal">
    <div class="pe-backdrop"></div>
    <div class="pe-panel">
      <div id="playerEditorApp"></div>
    </div>
  </div>
  <!-- Built-in default players (used if no custom players are saved) -->
  <script id="playersData" type="application/json">
[
{"number":1,"name":"Player One","position":"GK","altPosition":"DEF","photo":"avatars/player1.jpg"},
{"number":2,"name":"Player Two","position":"DEF","altPosition":"MID","photo":"avatars/player2.jpg"},
{"number":3,"name":"Player Three","position":"DEF","altPosition":"MID","photo":"avatars/player3.jpg"},
{"number":4,"name":"Player Four","position":"DEF","altPosition":"FWD","photo":"avatars/player4.jpg"},
{"number":5,"name":"Player Five","position":"MID","altPosition":"DEF","photo":"avatars/player5.jpg"},
{"number":6,"name":"Player Six","position":"MID","altPosition":"FWD","photo":"avatars/player6.jpg"},
{"number":7,"name":"Player Seven","position":"MID","altPosition":"FWD","photo":"avatars/player7.jpg"},
{"number":8,"name":"Player Eight","position":"FWD","altPosition":"MID","photo":"avatars/player8.jpg"},
{"number":9,"name":"Player Nine","position":"FWD","altPosition":"MID","photo":"avatars/player9.jpg"},
{"number":10,"name":"Player Ten","position":"FWD","altPosition":"MID","photo":"avatars/player10.jpg"},
{"number":11,"name":"Player Eleven","position":"DEF","altPosition":"MID","photo":"avatars/player11.jpg"},
{"number":12,"name":"Player Twelve","position":"GK","altPosition":"DEF","photo":"avatars/player12.jpg"},
{"number":13,"name":"Player Thirteen","position":"DEF","altPosition":"MID","photo":"avatars/player13.jpg"},
{"number":14,"name":"Player Fourteen","position":"MID","altPosition":"FWD","photo":"avatars/player14.jpg"}
]
  </script>
  <script>
    if ("serviceWorker" in navigator && location.protocol.startsWith("http")) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script defer="" src="script.js"></script>
  <script defer="" src="players-editor.js"></script>
</body>

</html>